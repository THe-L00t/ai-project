# 코인 자동매매 AI 프로젝트 설정

## 📋 프로젝트 기본 정보
- **프로젝트명**: 코인 자동매매 AI 시스템
- **프로젝트 디렉토리**: `/Users/the-l00t/Project/CoinTradingAI`
- **주요 언어**: Python
- **프로젝트 타입**: AI/Bot, 수익 창출형
- **목표**: 자동화된 암호화폐 거래를 통한 안정적 수익 창출

## 🎯 프로젝트 수행 목적

### 💰 수익 목표
- **초기 투자금**: [100,000]원
- **목표 월 수익률**: [10]% 
- **목표 월 수익**: [수익률에 따름]원
- **손익분기점**: [즉시]개월 후
- **리스크 허용 수준**: [ ] 보수적(1-3%) / [X] 중간(3-7%) / [ ] 공격적(7-15%)

### 🎮 거래 전략 목표
- **거래 스타일**: [X] 스캘핑(단기) / [ ] 데이트레이딩(일중) / [ ] 스윙(며칠) / [ ] 장기홀딩
- **주요 코인**: [뉴스 정보에 따라 AI가 판단하고 설정 - 주로 BTC, ETH, 상위 10개 코인 위주]
- **거래소**: [업비트]
- **동시 거래 코인 수**: [제한없음]개
- **최대 손실 허용**: 거래당 [-10]%, 일일 [-15]%

### 🤖 AI 학습 목표
- **사용할 AI 모델**: [ ] LSTM / [ ] Transformer / [X] Random Forest / [X] 강화학습(RL)
- **학습 데이터 기간**: [코인 출시 이후 현재까지]개월
- **재학습 주기**: [ ] 일일 / [X] 주간 / [ ] 월간
- **성과 지표**: 샤프 비율 [1.5] 이상, 최대 낙폭 [20]% 이하

## 🛠 기술 설정 정보

### 거래소 API 설정
#### 메인 거래소
- **거래소명**: [업비트]
- **API 키**: [ ] 보유함 / [X] 발급 필요
- **시크릿 키**: [ ] 보유함 / [X] 발급 필요
- **샌드박스 환경**: [ ] 사용 가능 / [X] 확인 필요
- **API 제한**: 분당 [100]회, 일일 [무제한]회
- **수수료**: 메이커 [0.05]%, 테이커 [0.05]%

#### 백업 거래소 (옵션)
- **거래소명**: [바이낸스]
- **API 키**: [ ] 보유함 / [X] 발급 필요
- **아비트라지 사용**: [X] 예 / [ ] 아니오

### 데이터 소스 설정
#### 가격 데이터
- **실시간 데이터**: [ ] WebSocket / [X] REST API / [ ] 둘 다
- **히스토리 데이터**: [X] 거래소 API / [ ] 외부 제공업체
- **데이터 갱신 주기**: [60]초
- **저장할 데이터**: [X] OHLCV / [X] 체결내역 / [ ] 호가창

#### 보조 지표 데이터
- **뉴스 데이터**: [X] 사용 / [ ] 미사용
  - 소스: [CoinDesk RSS, 코인데스크 코리아, 블록미디어]
- **소셜 센티멘트**: [ ] 사용 / [X] 미사용
  - 소스: [ ]
- **온체인 데이터**: [ ] 사용 / [X] 미사용
  - 소스: [ ]

### AI/ML 모델 설정
#### 학습 환경
- **GPU 사용**: [ ] 예 / [X] 아니오
  - GPU 종류: [ ]
- **클라우드 사용**: [ ] 예 / [X] 아니오
  - 플랫폼: [ ]
- **학습 시간 허용**: [2시간]

#### 모델 아키텍처
- **주요 모델**: [Random Forest + 강화학습 조합]
  - LSTM: 시계열 예측용
  - CNN: 차트 패턴 인식용
  - Random Forest: 기술적 지표 기반 (메인)
  - 강화학습: 액션 최적화용 (메인)
- **앙상블 사용**: [X] 예 / [ ] 아니오
- **백테스팅 기간**: [24]개월

### 리스크 관리 설정
#### 자금 관리
- **초기 자금**: [100,000]원
- **거래당 최대 투자**: 총 자금의 [20]%
- **코인별 최대 투자**: 총 자금의 [30]%
- **현금 보유 비율**: 최소 [20]%

#### 손절/익절 설정
- **손절매**: [-5]% 손실 시 자동 매도
- **익절매**: [15]% 수익 시 자동 매도
- **트레일링 스톱**: [X] 사용 / [ ] 미사용
  - 트레일링 비율: [3]%

#### 안전장치
- **일일 최대 손실**: [15,000]원 또는 [15]%
- **연속 손실 제한**: [3]회 연속 손실 시 거래 중단
- **시장 급락 감지**: [10]% 이상 급락 시 거래 중단
- **긴급 정지 조건**: [일일 손실 한도 도달, 시스템 오류, 거래소 장애]

## 🏗 시스템 아키텍처 설정

### 데이터 파이프라인
- **데이터 수집**: [ ] 실시간 / [ ] 배치 / [X] 하이브리드
- **데이터 저장**: [X] SQLite / [ ] PostgreSQL / [ ] MongoDB / [ ] InfluxDB
- **데이터 백업**: [X] 일일 / [ ] 주간 / [ ] 실시간
- **데이터 보관 기간**: [12]개월

### 거래 실행 시스템
- **거래 모드**: [X] 페이퍼 트레이딩 / [ ] 실거래
- **실행 지연 허용**: 최대 [5]초
- **주문 방식**: [X] 시장가 / [ ] 지정가 / [ ] 스마트 주문
- **슬리피지 허용**: [0.5]%

### 모니터링 시스템
- **실시간 모니터링**: [ ] 웹 대시보드 / [ ] 모바일 앱 / [X] 텔레그램 봇
- **알림 설정**:
  - 거래 완료: [X] 예 / [ ] 아니오
  - 손익 임계값: [5]% 이상 수익/손실 시
  - 시스템 오류: [X] 즉시 알림
- **성과 리포트**: [X] 일일 / [ ] 주간 / [ ] 월간

## 📊 백테스팅 및 검증 설정

### 백테스팅 파라미터
- **테스트 기간**: [2]년 [0]개월
- **시작 자금**: [100,000]원
- **수수료 반영**: [X] 예 / [ ] 아니오
- **슬리피지 반영**: [X] 예 / [ ] 아니오
- **기준 지표**: [X] 총 수익률 / [X] 샤프 비율 / [X] 최대 낙폭

### 성능 기준
- **최소 수익률**: 연 [50]% 이상
- **최대 낙폭**: [25]% 이하
- **샤프 비율**: [1.2] 이상
- **승률**: [55]% 이상
- **평균 보유 기간**: [2시간] 

### 검증 방법
- **교차 검증**: [X] Time Series Split / [ ] Walk Forward Analysis
- **아웃 오브 샘플 테스트**: [3]개월
- **라이브 테스트**: [2]주 페이퍼 트레이딩 후 실거래

## 🔧 개발 환경 설정

### Python 환경
- **Python 버전**: [ ] 3.9 / [X] 3.10 / [ ] 3.11
- **가상환경**: [X] venv / [ ] conda / [ ] poetry
- **주요 라이브러리**:
  - 데이터 처리: pandas, numpy
  - AI/ML: scikit-learn, tensorflow/pytorch
  - 거래소 API: ccxt
  - 차트 분석: TA-Lib, pandas-ta
  - 백테스팅: backtrader, zipline

### 개발 도구
- **IDE**: [X] VS Code / [ ] PyCharm / [ ] Jupyter
- **버전 관리**: Git
- **테스팅**: pytest
- **문서화**: [ ] Sphinx / [X] 마크다운
- **배포**: [ ] Docker / [X] 로컬 실행

### 보안 설정
- **API 키 관리**: .env 파일 + gitignore
- **로그 보안**: 민감 정보 마스킹
- **접근 제어**: [ ] 필요 / [X] 불필요
- **백업 암호화**: [X] 예 / [ ] 아니오

## 📈 수익성 분석

### 비용 구조
- **초기 개발 비용**: [40]시간 × [0]원/시간 = [0]원
- **서버 비용**: 월 [0]원 (클라우드 사용시)
- **데이터 비용**: 월 [0]원 (유료 API 사용시)
- **거래 수수료**: 월 예상 [500]원
- **기타 비용**: [0]원

### 수익 예측
- **보수적 시나리오**: 월 [5]% 수익률
- **기본 시나리오**: 월 [10]% 수익률
- **낙관적 시나리오**: 월 [20]% 수익률
- **손익분기점**: [즉시]개월 후
- **1년 후 예상 자산**: [314,000]원 (기본 시나리오 기준)

## 🚨 리스크 및 대응책

### 기술적 리스크
- **시스템 다운**: [자동 재시작 스크립트, 모바일 알림]
- **인터넷 장애**: [4G 핫스팟 백업, 거래 일시 중단]
- **거래소 장애**: [백업 거래소(바이낸스) 자동 전환]
- **API 제한**: [요청 제한 모니터링, 지연 로직]

### 시장 리스크
- **블랙 스완 이벤트**: [10% 급락 시 자동 거래 중단, 손절매 강화]
- **규제 변화**: [뉴스 모니터링, 수동 개입 체계]
- **해킹/보안**: [API 키 권한 제한, 정기적 비밀번호 변경]
- **유동성 부족**: [거래량 임계값 설정, 메이저 코인 위주]

### 운영 리스크
- **오버피팅**: [교차 검증, 아웃오브샘플 테스트 필수]
- **모델 성능 저하**: [주간 성과 모니터링, 재학습 트리거]
- **자금 관리 실패**: [엄격한 포지션 사이징, 일일 손실 제한]

## 📅 개발 일정

### Phase 1: 기반 구축 ([1]주)
- [X] 개발 환경 설정
- [X] 거래소 API 연동
- [X] 기본 데이터 수집 시스템
- [X] 간단한 백테스팅 프레임워크

### Phase 2: AI 모델 개발 ([2]주)
- [ ] 데이터 전처리 파이프라인
- [ ] 기술적 지표 계산
- [ ] 첫 번째 예측 모델 구현
- [ ] 기본 전략 백테스팅

### Phase 3: 고도화 ([2]주)
- [ ] 리스크 관리 시스템
- [ ] 실시간 거래 시스템
- [ ] 모니터링 대시보드
- [ ] 성능 최적화

### Phase 4: 배포 및 운영 ([1]주)
- [ ] 페이퍼 트레이딩 테스트
- [ ] 실거래 시작 (소액)
- [ ] 성과 모니터링
- [ ] 모델 개선

## 🎯 성공 지표 (KPI)

### 수익성 지표
- **월 수익률**: 목표 [10]% 이상
- **연 수익률**: 목표 [120]% 이상
- **샤프 비율**: [1.5] 이상
- **최대 낙폭**: [20]% 이하
- **승률**: [55]% 이상

### 운영 지표
- **시스템 가동률**: 99.[5]% 이상
- **거래 실행률**: [90]% 이상 (신호 대비)
- **데이터 품질**: 결측치 [1]% 이하
- **응답 시간**: [3]초 이하

### 학습 지표
- **모델 정확도**: [60]% 이상
- **백테스팅 성과**: [연 50% 수익률] 기준 통과
- **아웃오브샘플 성과**: 백테스팅 대비 [80]% 이상

---

## 📝 Claude 실행 지침

### 설정 완료 후 Claude 작업 순서
1. **이 파일 검토**: 모든 [X] 항목 채워짐 확인 ✅
2. **환경 구축**: Python 환경, 라이브러리 설치
3. **API 연동**: 거래소 API 테스트 및 연결
4. **데이터 수집**: 히스토리 데이터 다운로드
5. **백테스팅 시스템**: 기본 프레임워크 구축
6. **첫 번째 전략**: 간단한 이동평균 전략부터 시작

### 작업 시 주의사항
- **보안 최우선**: API 키, 개인키 절대 노출 금지
- **단계별 검증**: 각 모듈 완성 후 반드시 테스트
- **리스크 관리**: 실거래 전 충분한 페이퍼 트레이딩
- **성과 기록**: 모든 백테스팅 결과 문서화

### 자동 실행 가능한 작업
- [X] 기본 환경 설정 (requirements.txt, 폴더 구조)
- [X] 데이터 수집 스크립트 작성
- [X] 기술적 지표 계산 함수
- [X] 백테스팅 유틸리티 함수
- [X] 로깅 시스템 구축

### 승인 필요한 작업
- [ ] 실제 API 키 설정
- [ ] 실거래 모드 활성화
- [ ] 자금 투입 관련 모든 작업
- [ ] 리스크 임계값 변경

---

## 🔄 자동화 워크플로우 설정

### Git 커밋 자동화 규칙
#### 매번 코드 수정 시 자동 실행 규칙:
1. **상세한 커밋 메시지 작성**
   - 수정 내용의 목적과 변경사항 명시
   - 에러 수정의 경우: 원인과 해결 방법 포함
   - 기능 추가의 경우: 추가된 기능과 영향 범위 명시

2. **커밋 단위 규칙**
   - 논리적으로 연관된 변경사항은 하나의 커밋으로 묶기
   - 에러 수정과 기능 개선은 별도 커밋으로 분리
   - 설정 파일 변경은 별도 커밋으로 관리

3. **커밋 메시지 형식**
   ```
   [타입]: 간단한 요약 (50자 이내)

   상세 설명:
   - 변경 이유
   - 주요 수정 내용
   - 테스트 결과 (필요시)

   🤖 Generated with Claude Code
   Co-Authored-By: Claude <noreply@anthropic.com>
   ```

4. **타입 분류**
   - `fix`: 버그 수정 (timestamp 에러 등)
   - `feat`: 새로운 기능 추가
   - `improve`: 기존 기능 개선
   - `refactor`: 코드 리팩토링
   - `config`: 설정 파일 변경
   - `docs`: 문서 업데이트

### 데스크톱 단축키 자동 갱신 규칙
#### 코드 변경 시 자동 갱신 조건:
1. **핵심 AI 파일 수정 시**
   - `smart_hybrid_ai.py` 변경
   - `adaptive_learning_ai.py` 변경
   - `main.py` 또는 `main_v2.py` 변경
   - `requirements.txt` 변경

2. **갱신할 단축키 파일들**
   - `/Users/the-l00t/Desktop/start_ai_learning.command`
   - `/Users/the-l00t/Desktop/view_ai_logs.command`

3. **갱신 내용**
   - 타임스탬프 업데이트
   - 최신 Python 경로 확인
   - 의존성 패키지 재설치 명령 추가
   - 실행 전 파일 존재 확인 강화

4. **갱신 트리거**
   - AI 코드 수정 완료 후
   - Git 커밋 직전
   - 에러 수정 완료 후

### 자동화 실행 순서
1. **코드 수정 완료**
2. **테스트 실행** (에러 확인)
3. **데스크톱 단축키 갱신**
4. **Git add 및 상세 커밋**
5. **성공 확인 로그 작성**

### 예외 처리 규칙
- 커밋 실패 시: 에러 로그 확인 후 재시도
- 단축키 갱신 실패 시: 수동 갱신 안내
- 권한 오류 시: chmod 권한 재설정

### 로깅 및 추적
- 모든 자동화 작업은 로그 파일에 기록
- 실패한 자동화 작업은 별도 알림
- 성공/실패 통계 주간 리포트 생성
